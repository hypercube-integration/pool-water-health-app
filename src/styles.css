/* =========================
   Pool App â€” Global Styles
   ========================= */

:root{
  --bg: #f4fafb;
  --ink: #0f172a;
  --muted: #475569;
  --border: #e5eaef;
  --panel: #ffffff;
  --brand: #0ea5e9;
  --brand-600:#0284c7;
  --ok: #16a34a;
  --warn:#f59e0b;
  --danger:#ef4444;
}

*{ box-sizing: border-box; }
html,body,#root{ height:100%; }

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Helvetica, Arial;
  color: var(--ink);
  background:
    radial-gradient(1000px 400px at 8% -100px, rgba(14,165,233,.08), transparent 60%),
    radial-gradient(800px 300px at 100% -120px, rgba(22,163,74,.06), transparent 60%),
    var(--bg);
}

/* Layout */
.container{
  width: min(1100px, 100%);
  margin: 0 auto;
  padding: 20px 16px 40px;
}
h1{ font-size: 44px; line-height: 1.1; margin: 8px 0 16px; color:#065f46; }
h3{ margin: 16px 0 10px; }

.section{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  margin: 12px 0;
  box-shadow: 0 10px 24px rgba(15,23,42,.05);
}

.chart-card{ padding: 10px 12px 4px; }

/* Auth status row */
.auth-status{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
  color:var(--muted); margin-bottom:6px;
}
.auth-status .chip{
  display:inline-flex; align-items:center; gap:6px;
  height:34px; padding:6px 12px;
  border:1px solid var(--border); border-radius:999px;
  background:#eef2f7; color:var(--ink); text-decoration:none;
}
.auth-status .chip.danger{
  background:#fee2e2; border-color:#fecaca; color:#7f1d1d;
}

/* =========================
   Unified Form Controls
   (used by Settings, DateRange, LogEntryForm, Admin)
   ========================= */

/* Base controls */
input[type="text"],
input[type="number"],
input[type="date"],
input[type="email"],
input[type="search"],
select,
textarea{
  width: 100%;
  height: 44px;
  padding: 10px 12px;
  color: var(--ink);
  background: #fff;
  border: 1px solid #d6dee6;
  border-radius: 10px;
  outline: none;
  box-shadow: inset 0 0 0 0 rgba(0,0,0,0);
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
  appearance: none; /* normalize selects */
}

textarea{ height: auto; min-height: 90px; resize: vertical; }

/* Focus ring */
input:focus,
select:focus,
textarea:focus{
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(14,165,233,.18);
}

/* Disabled state */
input:disabled,
select:disabled,
textarea:disabled{
  background: #f3f6f9;
  color: #94a3b8;
  cursor: not-allowed;
}

/* Date & select inner icons (WebKit) */
input[type="date"]::-webkit-calendar-picker-indicator{
  filter: invert(25%);
  opacity: .8;
}
select{
  background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5' stroke='%23677389' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  padding-right: 36px;
}

/* Field/label helpers (used by form-grid/date-field/admin-field) */
.field, .date-field, .admin-field{ display:grid; gap:6px; }
.field > span,
.date-field > label,
.admin-field > span,
label > span{
  font-size: 13px;
  color: var(--muted);
}

/* Grids used across pages */
.form-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: 12px;
}

/* Date range controls layout & alignment */
.date-range-controls{ display:grid; gap:12px; }
.date-range-controls .date-grid.fields{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap:12px; align-items:end;
}
.date-range-controls .date-grid.actions{
  display:grid;
  grid-template-columns: 1fr auto; /* Preset | Actions */
  gap:12px; align-items:end;
}
.date-range-controls .date-actions{
  display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-start;
}
@media (max-width:640px){
  .date-range-controls .date-grid.actions{ grid-template-columns: 1fr; }
}

/* =========================
   Buttons
   ========================= */

button{
  height:44px; padding:10px 14px;
  border-radius:10px; border:1px solid transparent;
  background:#0d9488; color:#fff; font-weight:600;
  cursor:pointer; transition: transform .02s ease, box-shadow .15s ease, background .15s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,.04);
}
button:hover{ background:#0f766e; }
button:active{ transform: translateY(1px); }
button.secondary{
  background:#e8eef6; color:#0f172a; border-color:var(--border);
}
button.secondary:hover{ background:#dfe7f2; }

/* Export toolbar checkbox alignment */
label > input[type="checkbox"]{ transform: translateY(1px); }

/* =========================
   Charts
   ========================= */
.chart-grid{
  display:grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
.chart-panel{ padding: 6px 6px 2px; }
@media (min-width: 900px){
  .chart-grid{ grid-template-columns: 1fr; } /* single column, but roomy */
}

/* Make charts breathe from the right edge */
.recharts-wrapper{ margin-right: 8px; }

/* =========================
   Tables / History
   ========================= */
.table-wrap{ overflow:auto; }

/* =========================
   Admin helpers (invites)
   ========================= */
.admin-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap:12px; align-items:end;
}
.code-block{
  border:1px solid var(--border); background:#f8fafc;
  border-radius:10px; padding:12px; margin:12px 0;
}

/* =========================
   Misc
   ========================= */
a{ color:#2563eb; text-decoration:none; }
a:hover{ text-decoration:underline; }
code{ background:#f1f5f9; padding:2px 6px; border-radius:6px; }

/* --- Modal --- */
.modal-backdrop{
  position: fixed; inset: 0; background: rgba(15,23,42,.35);
  display: grid; place-items: center; z-index: 1000; padding: 16px;
}
.modal{
  width: min(900px, 100%);
  background: #fff; border: 1px solid #e5eaef; border-radius: 14px;
  box-shadow: 0 30px 80px rgba(15,23,42,.25);
  padding: 14px;
  display: grid; gap: 12px;
}
.modal-head{
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
}
.modal-actions{ display: flex; gap: 8px; justify-content: flex-end; }

/* --- Report layout (A4-friendly widths) --- */
.report{ display: grid; gap: 12px; }
.report-header{
  display: flex; align-items: flex-start; justify-content: space-between; gap: 12px;
  border-bottom: 1px solid #e5eaef; padding-bottom: 8px;
}
.report .title{ font-size: 22px; font-weight: 700; color:#065f46; }
.report .sub{ font-size: 13px; color:#475569; }
.report .meta{ font-size: 13px; color:#334155; display: grid; gap: 4px; text-align: right; }

.report-grid{
  display: grid; gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}
.report-card{
  border: 1px solid #e5eaef; border-radius: 10px; padding: 12px; background: #fff;
}
.card-title{ font-weight: 700; margin-bottom: 8px; color:#0f172a; }

.kv{ list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; }
.kv li{ display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.kv span{ color:#64748b; }

.chart-shot{ padding: 8px; border: 1px dashed #d6dee6; border-radius: 10px; }

.chart-shot img { width: 100%; height: auto; display: block; }
